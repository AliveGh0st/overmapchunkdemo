# Overmap Canvas渲染系统

这是一个使用Canvas渲染的连续地图系统，实现了180x180格子的渲染视窗，每个格子4px，使用绿色渲染。

## 功能特点

- **渲染视窗**: 180x180 格子（720x720 像素）
- **连续地图**: 无限扩展的世界地图，玩家可以无缝移动
- **智能区块生成**: 当玩家距离已生成区域边缘11格时自动生成新区块
  - 支持8个方向的区块生成（上下左右 + 四个对角线方向）
  - 确保对角线移动时不会出现未生成的区块
- **地形连续性**: 使用全局噪声生成器确保相邻区块间地形完全连续
- **Canvas渲染**: 每个格子4px，实时渲染
- **颜色方案**: 绿色地形，深绿色背景，红色玩家指示器

## 核心文件

- `overmap_system.tscn` - 主场景文件
- `overmap_renderer.gd` - 连续地图渲染管理器，处理区块生成和Canvas绘制
- `overmap_player.gd` - 玩家控制器，支持WASD和方向键移动
- `overmap_ui.gd` - 调试UI，显示实时地图状态

## 使用方法

1. 在Godot中打开项目
2. 运行主场景 `overmap_system.tscn`
3. 使用WASD或方向键移动红色玩家方块
4. 地图会跟随玩家移动，当接近边缘时自动生成新区块

## 控制说明

- **WASD** 或 **方向键** - 移动玩家
- 玩家始终显示在画布中心，地图跟随玩家移动
- 左下角显示实时调试信息（玩家世界坐标、当前区块、已生成区块数）

## 技术实现

1. **连续世界**: 使用世界坐标系统，支持无限扩展
2. **动态区块生成**: 基于玩家位置自动生成180x180的区块
3. **Canvas渲染**: 渲染玩家周围180x180格子的区域
4. **地形生成**: 使用FastNoiseLite生成程序化地形，每个区块有独立的种子

## 系统特性

- **无缝移动**: 玩家在连续的世界中移动，没有传送或跳跃
- **智能区块管理**: 只在需要时生成新区块，避免性能浪费
- **内存保留**: 所有生成的区块保存在内存中，支持重复访问
- **实时渲染**: 地图跟随玩家实时更新，始终显示玩家周围的区域
